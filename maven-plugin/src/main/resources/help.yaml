version: "${version}"
help:
  - name: "create-project"
    desc: "Create platform/reference application/owa module"

  - name: "setup"
    desc: "Set up a new instance of OpenMRS server. It can be used for setting up a platform or a distribution. It prompts for any missing, but required parameters."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "Dplatform"
        desc: "OpenMRS Platform version to setup e.g. '1.11.5'."
      - name: "Ddistro"
        desc: "OpenMRS Distribution to set up in a format 'groupId:artifactId:version'. You can skip groupId, if it is 'org.openmrs.distro'. You can also give Path to distro.properties file"
      - name: "DdbDriver"
        desc: "Database driver e.g. 'mysql' or 'h2'."
      - name: "DdbUri"
        desc: "Uri for JDBC connection to the database (default value matches dbDriver)"
      - name: "DdbUser"
        desc: "Username for the database (defaults to 'root')."
      - name: "DdbPassword"
        desc: "Password for the database user."
      - name: "DaddDemoData"
        desc: "Add demo data when setting up a platform server."
      - name: "Dfile"
        desc: "Path to installation.properties file for batch setup."
      - name: "DdockerHost"
        desc: "Docker host address"
      - name: "DdbReset"
        desc: "If 'true' reset the database"
      - name: "DjavaHome"
        desc: "Path to JAVA_HOME"
      - name: "Ddebug"
        desc: "Port number for enabling remote debugging (defaults to '1044')."
      - name: "Drun"
        desc: "If 'true' run the server after the setup (defaults to 'false')."
      - name: "DappShellVersion"
        desc: "Override the OpenMRS SPA core version (defaults to 'next')."
      - name: "DignorePeerDependencies"
        desc: "Causes npm to completely ignore peerDependencies (defaults to 'true')."
      - name: "DreuseNodeCache"
        desc: "Override the reuseNodeCache property that controls whether the SDK reuse the NPM cache after the setup."

  - name: "deploy"
    desc: "Deploy a module/distribution/platform to a server. It can be used for deploying a new artifact or upgrading/downgrading an artifact, which was previously deployed."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "DgroupId"
        desc: "Group id of an artifact, which you want to deploy (defaults to 'org.openmrs.module')."
      - name: "DartifactId"
        desc: "Artifact id of an artifact, which you want to deploy."
      - name: "Dversion"
        desc: "Version of an artifact, which you want to deploy."
      - name: "Ddistro"
        desc: "OpenMRS Distribution to set up in the format 'groupId:artifactId:version'. You can skip groupId, if it is 'org.openmrs.distro'. You can also give Path to distro.properties file"
      - name: "Dowa"
        desc: "Owa property in the format 'owa-name:version'"
      - name: "DignorePeerDependencies"
        desc: "Causes npm to completely ignore peerDependencies (defaults to 'true')."
      - name: "DreuseNodeCache"
        desc: "Override the reuseNodeCache property that controls whether the SDK reuse the NPM cache after the setup."

  - name: "undeploy"
    desc: "Undeploy a module from a server."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "DgroupId"
        desc: "Group id of a module, which you want to undeploy (defaults to 'org.openmrs.module')."
      - name: "DartifactId"
        desc: "Artifact id of a module, which you want to undeploy."

  - name: "reset"
    desc: "Reset server and its database to the initial state."
    options:
      - name: "Dserverid"
        desc: "Unique id of a server."

  - name: "delete"
    desc: "Delete a server and its database."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."

  - name: "run"
    desc: "Start a server. If it is run from a module/distro/platform project, the project will be redeployed before launching."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "Dport"
        desc: "Port to use for running the server. (defaults to '8080')"
      - name: "Ddebug"
        desc: "Enable remote debugging on the given port. (defaults to '1044' if empty)"
      - name: "DwatchApi"
        desc: "Flag to indicate whether to redeploy API classes"
      - name: "DskipBuild"
        desc: "Flag to indicate whether to build server's watched projects, OWA projects, or node projects. (defaults to 'false')"
      - name: "runGoal"
        desc: "Goal to execute when running the server. (defaults to 'org.openmrs.maven.plugins:openmrs-sdk-tomcat9-maven-plugin:{$version}')"
      - name: "DjvmArgs"
        desc: "Pass JVM arguments to the run command. (example : -DjvmArgs='--add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED')"

  - name: "watch"
    desc: "Add a module from the current directory to the list of watched projects. It enables the live-reloading feature for a module."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."

  - name: "unwatch"
    desc: "Remove a module from the list of watched projects. It disabled the live-reloading feature for a module."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "DartifactId"
        desc: "Artifact id of a module to unwatch."
      - name: "DgroupId"
        desc: "Group id of a module to unwatch. It is optional if artifact id is unambiguous."

  - name: "info"
    desc: "Display server details including the list of watched modules."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."

  - name: "add-feature"
    desc: "Enhance an existing module by adding a feature"
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "Dfeature"
        desc: "Feature you wants to add"

  - name: "build"
    desc: "Build server's watched projects, OWA projects or node projects."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "DbuildOwa"
        desc: "Flag to indicate whether to build OWA projects. (defaults to 'true')"
      - name: "DnpmVersion"
        desc: "Version of npm to use for building node projects."
      - name: "DnodeVersion"
        desc: "Version of Node.js to use for building node projects."

  - name: "build-distro"
    desc: "Create docker configuration for distributions."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "Ddistro"
        desc: "Path to the openmrs-distro.properties file."
      - name: "Ddir"
        desc: "Directory for generated files. (defaults to 'docker')"
      - name: "DdbSql"
        desc: "SQL script for database configuration."
      - name: "bundled"
        desc: "Flag to indicate whether to put modules inside the war file in '/webapp/src/main/webapp/WEB-INF/bundledModules'. (defaults to 'false')"
      - name: "reset"
        desc: "Flag to indicate whether to delete the target directory or not. (defaults to 'false')"
      - name: "DignorePeerDependencies"
        desc: "Causes npm to completely ignore peerDependencies (defaults to 'true')."
      - name: "DreuseNodeCache"
        desc: "Override the reuseNodeCache property that controls whether the SDK reuse the NPM cache after the setup."

  - name: "clone"
    desc: "Clone any OpenMRS module repository"
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "DgroupId"
        desc: "groupId of the module you want to clone."
      - name: "DartifactId"
        desc: "artifactId of module You want to clone."
      - name: "DgithubUsername"
        desc: "Github username."
      - name: "DgithubPassword"
        desc: "GitHub password or personal access token."

  - name: "create-project"
    desc: "Creates an OpenMRS module project in the current directory. The newly created project has basic structure and configuration files generated from an archetype. It is ready to be built and installed on an OpenMRS instance right after creation."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "DarchetypeArtifactId"
        desc: "The manager's artifactId. This can be an ordered comma-separated list."
      - name: "DarchetypeGroupId"
        desc: "The manager's groupId (defaults to'org.openmrs.maven.archetypes')."
      - name: "DarchetypeVersion"
        desc: "The manager's version."
      - name: "Dfilter"
        desc: "Applying filter on displayed archetypes list: format is artifactId or groupId:artifactId. (defaults to 'org.openmrs.maven.archetypes:')"
      - name: "DoutputDirectory"
        desc: "The output directory. (defaults to '${project.basedir}')"
      - name: "Dgoals"
        desc: "Additional goals."
      - name: "DartifactId"
        desc: "The generated project's artifactId."
      - name: "DgroupId"
        desc: "The generated project's groupId."
      - name: "Dversion"
        desc: "The generated project's version."
      - name: "Dpackage"
        desc: "The generated project's package name."
      - name: "DmoduleClassnamePrefix"
        desc: "The generated project's module name. (no spaces)"
      - name: "DmoduleName"
        desc: "The generated project's module name."
      - name: "DmoduleDescription"
        desc: "The generated project's module description."
      - name: "DmoduleAuthor"
        desc: "The generated project's module author (defaults to '${user.name}')"
      - name: "Dplatform"
        desc: "The generated project's OpenMRS Platform Version."
      - name: "Drefapp"
        desc: "The generated project's OpenMRS Reference Application Version."
      - name: "DmoduleId"
        desc: "Unique identifier module in the OpenMRS world."
      - name: "Dtype"
        desc: "Type of generated project module, platform or refapp."

  - name: "fetch"
    desc: "Fetch any OpenMRS module or OWA."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "DartifactId"
        desc: "artifactId of the module you want to fetch."
      - name: "DgroupId"
        desc: "groupId of the module you want to fetch."
      - name: "Dversion"
        desc: "version of the module you want to fetch."
      - name: "Dowa"
        desc: "OWA you want to fetch."
      - name: "Ddir"
        desc: "Directory the file should be fetched into. (defaults to the current directory)"

  - name: "pull"
    desc: "Pull changes from upstream for all watched projects or for any project if executed in its directory."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "Dbranch"
        desc: "Branch that is needed be pulled. (defaults to 'master)'"

  - name: "pr"
    desc: "Create or update pull request to any OpenMRS repository."
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "Dbranch"
        desc: "The branch to create the pull request. (defaults to 'master)'"
      - name: "DissueId"
        desc: "ID of the JIRA issue against which the code is committed."
      - name: "Dusername"
        desc: "Github username."
      - name: "DpersonalAccessToken"
        desc: "GitHub personal access token."

  - name: "setup-sdk"
    desc: "Setup the OpenMRS SDK"
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "DreuseNodeCache"
        desc: "Controls whether the SDK reuse the NPM cache after the setup. (defaults to 'false')"

  - name: "watch-owa"
    desc: "Watch OWA"
    options:
      - name: "DserverId"
        desc: "Unique id of a server."

  - name: "generate-distro"
    desc: "Generates an openmrs-distro.properties file for a specific version of OpenMRS Distro"
    options:
      - name: "DserverId"
        desc: "Unique id of a server."
      - name: "output"
        desc: "Specify the location where the file should be saved. (defaults to '. (current location)')"
