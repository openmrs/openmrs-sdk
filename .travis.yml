language: java
jdk:
 - openjdk8
 - openjdk9
 - openjdk10
 - openjdk11
 - openjdk12
 - openjdk13
 - openjdk14
install :
  - mvn org.openmrs.maven.plugins:openmrs-sdk-maven-plugin:setup-sdk -DbatchAnswers=n -Djdk.tls.client.protocols=TLSv1.2
script:
  - mvn install -Djdk.tls.client.protocols=TLSv1.2
deploy:
  provider: script
  script: ./deploy.sh
  skip_cleanup: true
  on:
    tags: true
